\section{Results}
\label{sec:results}

\subsection{Motor Friction Estimation}
<<<<<<< HEAD
\label{sec:results:motor_friction_estimation}
  The viscous damping coefficient \( b \) was found to be \( 0.003603 \) Nm/rad/s for the hip motors and \( 0.012342 \) Nm/rad/s for the knee motors. Figures \ref{fig:results:motor_friction_estimation:linear_regression_knee_motor} and \ref{fig:results:motor_friction_estimation:linear_regression_hip_motor} show the predicted \(\dot{\theta}\) predicted from the physical models of the pendulum using the estimated viscous damping coefficients, versus the derived \(\dot{\theta}\).
=======
Pendulum angle \(\theta\) was sampled with a sampling rate of 60Hz. \(\dot{\theta}\) and \(\ddot{\theta}\) were derived from \(\theta\) using numerical differentiation. The viscous damping coefficient \( b \) was found to be \( 0.001 \) Nm/rad/s for the hip motors (A20BHM) and \( 0.0001 \) Nm/rad/s for the knee motors (A06CLS V2 etc). Figures \ref{fig:results:motor_friction_estimation:linear_regression_knee_motor} and \ref{fig:results:motor_friction_estimation:linear_regression_hip_motor} show the the predicted \(\dot{\theta}\) from the physical models of the pendulum using the estimated viscous damping coefficients, versus the derived \(\dot{\theta}\).
>>>>>>> 0abd50a4f7898a8857ed84186fdfc7f0234ada9a

\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\textwidth]{Images/results/friction_est_knee_motor.png}
    \caption{Linear regression fit of the pendulum data for the knee motor. Derived theta dot dot is the double derivative of the pendulum angle.}
    \label{fig:results:motor_friction_estimation:linear_regression_knee_motor}
\end{figure}

\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\textwidth]{Images/results/friction_est_hip_motor.png}
    \caption{Linear regression fit of the pendulum data for the hip motor.}
    \label{fig:results:motor_friction_estimation:linear_regression_hip_motor}
\end{figure}




\subsection{Link Length Optimization}
\label{sec:results:link_length_optimization}
The grid search results for both Earth and Mars gravity are shown in figures \ref{fig:results:grid_search_earth} and \ref{fig:results:grid_search_mars}. The search explored link length ratios from 0.8 to 1.6 and total lengths from 8cm to 36cm, in increments of 0.1 and 0.5 cm respectively.

Best performing jumps are described in table \ref{tab:results:grid_search_earth:best_jumps}.
\begin{table}[h]
    \centering
    \begin{tabular}{lrrrrr}
        \hline
        Gravity & Jump Height (cm) & Ratio & Total Length (cm) & L1 (cm) & L2 (cm) \\
        \hline
        Earth & 118.03 & 1.0 & 35 & 12.5 & 12.5 \\
        Mars & 31.39 & 1.0 & 27 & 13.5 & 13.5 \\
        \hline
    \end{tabular}
    \caption{Best performing link length configurations and their corresponding jump heights for Earth and Mars gravity.}
    \label{tab:results:grid_search_earth:best_jumps}
\end{table}


\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\textwidth]{Images/results/grid_search_results_earth_flat.png}
    \caption{Grid search results showing jump height performance across different link length configurations under Earth gravity.}
    \label{fig:results:grid_search_earth}
\end{figure}



\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\textwidth]{Images/results/grid_search_results_mars_flat.png}
    \caption{Grid search results showing jump height performance across different link length configurations under Mars gravity.}
    \label{fig:results:grid_search_mars}
\end{figure}

TODO: Correct optima
The optimum total length is 8cm longer under Mars gravity. In both Mars and Earth gravity, the optimal link length ratio is 1.0 across all total lengths, with steep drops in jump height for ratios under 1.0 and less steep drops for ratios over 1.0. 

\subsection{Hip Motor Dimensioning Test}
\label{sec:hip_motor_dimensioning_test}

As can be seen in figure \ref{fig:hip_motor_strength_test}, the hip motors follow the angle reference well, achieving three back and forth swings of 90 degrees over a one second period. The torque output of the motors during this maneuver can be seen in figure \ref{fig:hip_motor_torque_test}. In other words, the hip motors satisfy the heuristic as presented in \cite{finn_tarek_master}.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{Images/attitude_stable_test_result.eps}
    \caption{Commanded and actual hip joint angle achieved during the hip motor strength test simulation. }
    \label{fig:hip_motor_strength_test}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{Images/hip_motor_torque.eps}
    \caption{Torque output of the hip motors during the hip motor strength test simulation.}
    \label{fig:hip_motor_torque_test}
\end{figure}

\subsection{Motor Only Jumping Results}
\label{sec:results_motor_only_jumps}

As described in section \ref{sec:design_motor_only_jumps}, motor-only simulations were done using the assumed characteristics of the A80BHP-H motor. Because the results were so far from acceptable, only the results of one experiment are presented here, but simulations with shorter leg and body lengths were performed. Figure \ref{fig:joint_speed_A80BHM} shows the knee joint actuation torque, knee joint velocity and knee joint angle during takeoff for the A80BHP-H motor. The robot is not able to reach a high enough speed to achieve a good jump, and the peak body center of mass height reached is 70cm, despite a total leg length of 40cm.
% TODO: INclude below in results
%. These motors were chosen due to their high torque to weight ratio. While extensive testing was done, the jumping performance was so far from acceptable that the idea was abandoned, and the full scope of the experiments are considered outside the scope of this report. The best jumping performance was achieved with the A80BHP-H motor from AGF-RC. This motor has a stall torque of 18.5 kg/cm, a weight of 80 grams, and a maximum velocity of 2000 degrees per second. To test jumping performance, the robots dimensions were gradually increased, body length as well as link lengths. This gradual increase was terminated when the body length reached 30cm and the thigh and shank links reached 20cm each, for a total leg length of 40cm. The search was terminated here because the robot was still not jumping satisfactorily, despite the robots dimensions having reached a point where they were considered excessive. Primarily because the body mass was not being scaled with the general dimensions of the robot, and because the jump height was also not increasing at a commensurate rate with the increase in robot size. Ie., even though the total center of mass displacement was increasing, the center of mass jump height compared to the total length of the legs was not increasing, and the robot was thus not jumping higher. The achieved velocity of the knee joint until takeoff can be seen in figure \ref{fig:joint_speed_A80BHM}. As can be seen, the motor torque drops quickly, and is not able to reach a high enough speed to achieve a good jump. In fact, the peak body center of mass height reached is 70cm, despite a total leg length of 40cm. As can be seen, the motor is too slow to reach a high enough joint velocity for a good jump, it is therefore unlikely that a faster but weaker motor would perform much better. Efforts were made to test motors with both higher torques and higher speeds, but no motors were found with similar specs without being significantly heavier and larger. TODO: Should I show some motors that are objectively worse, as an example? 


\begin{figure}[h]
    \centering
    \includegraphics[width=0.75\textwidth]{Images/joint_speed_A80.eps}
    \caption{Knee speed until takeoff with A80BHP-H motor.}
    \label{fig:joint_speed_A80BHM}
\end{figure}
